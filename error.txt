#include <QApplication>
#include "RocketWidget.h"

int main(int argc, char *argv[]) {
    QApplication app(argc, argv);

    // Создаем виджет ракеты
    RocketWidget rocketWidget;
    rocketWidget.resize(800, 600); // Устанавливаем размер окна
    rocketWidget.setRocketPosition(0, 50); // Начальные координаты ракеты
    rocketWidget.setRotation(0); // Начальный угол поворота
    rocketWidget.show();

    // Пример изменения положения и поворота через таймер
    QTimer timer;
    QObject::connect(&timer, &QTimer::timeout, [&]() {
        static double x = 0;
        static double y = 50;
        static double angle = 0;

        x += 5; // Двигаем ракету вправо
        angle += 5; // Увеличиваем угол поворота

        if (x > 400) x = -400; // Возвращаем влево, если ракета выходит за пределы
        rocketWidget.setRocketPosition(x, y); // Обновляем координаты ракеты
        rocketWidget.setRotation(angle); // Обновляем угол поворота
    });
    timer.start(50); // Обновление каждые 50 мс

    return app.exec();
}

